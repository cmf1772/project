<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div>
        <input id="user-input" type="text" placeholder="用户名">
        <button id="login-button">登录</NOtton>
            <button id="delete-button">删除</NOtton>
    </div>
    <script>
        var userInput = document.getElementById('user-input');
        var loginButton = document.getElementById('login-button');
        var deleteButton = document.getElementById('delete-button');

        // loginButton.onclick = function(){
        //     alert('登陆成功');
        //     document.cookie="user="+userInput.value;
        // }


        if (getCookie('username')) {
            userInput.value = getCookie('username');
        }
        console.log(getCookie('username'))
        loginButton.onclick = function () {
            alert('登陆成功');
            setCookie('username', userInput.value, 5000);
        }
        deleteButton.onclick = function () {
            removeCookie('username');
            userInput.value = '';
        }

        function setCookie(c_name, value, expiredays) {
            var exdate = new Date();
            exdate.setDate(exdate.getDate() + expiredays);
            document.cookie = c_name + "=" + escape(value) +
                ((expiredays == null) ? "" : ";expires=" + exdate.toGMTString()) + ";path=/";
        }

        function getCookie(key) {
            var arr1 = document.cookie.split(';');
            for (var i = 0; i < arr1.length; i++) {
                var arr2 = arr1[i].split('=');
                if (arr2[0] == key) {
                    return arr2[1];
                }
            }
        }

        function removeCookie(key) {
            setCookie(key, '', -1);
        }
    </script>
</body>

</html>